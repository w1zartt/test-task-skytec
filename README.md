# Тестовое для Skytec

##API

Т.к. по условию тестового нель использовать Spring, я воспользовался внутренним классом java Http-Server
Приложение поднимается на 8000 порту, не стал выносить его в переменные, т.к. вряд ли кто-то кроменя меня будет его запускать
тем не менее есть следующе endpoint'ы:

POST /api/skytec/clan - Создать клан
принимает json вида:

{
"name": "custom_clan",
"gold": 1000
}

возвращает json вида:

{
"id": 2,
"name": "custom_clan",
"gold": 1000
}

GET /api/skytec/clan/{id} - Получить клан
возвращает json вида:

{
"id": 2,
"name": "custom_clan",
"gold": 1000
}

POST /api/skytec/user - Создать пользователя
принимает json:
{
"name": "Dima",
"gold": 400,
"rank": "LEAD"
}

ввозвращает json:
{
"id": 1,
"name": "Dima",
"gold": 400,
"rank": "LEAD"
}

GET /api/skytec/user/{id} - Получить пользователя
Возвращает json:
{
"id": 1,
"name": "Dima",
"gold": 400,
"rank": "LEAD"
}

POST /api/skytec/clan/add-gold-from-user?user-id=5&clan-id=1&sum=1000 - Передать деньги от пользователя к клану
Возвращает json клана, у которого изменился баланс

POST /api/skytec/clan/transfer-gold-to-user?user-id=5&clan-id=1&sum=1000 - Передать деньги клана к пользователю
Возвращает json клана, у которого изменился баланс.

Я не стал делать отдельные DTO для "контроллера", т.к. в этом не было особого смысла. Просто бы дублировались существующие модельки

Блокировку сделал через локи, которые хранятся в мапе, по id сущности
efef